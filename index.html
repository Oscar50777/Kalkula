<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial;
      margin: 0;
      padding: 10px;
      max-width: 100%;
      box-sizing: border-box;
    }
    h2 {
      text-align: center;
      font-size: 18px;
      margin-bottom: 10px;
    }
    .main-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .left,
    .right {
      width: 100%;
    }
    label {
      font-size: 14px;
      margin-top: 8px;
    }
    input[type="number"],
    select,
    button,
    textarea {
      width: 100%;
      padding: 8px;
      font-size: 14px;
      box-sizing: border-box;
      margin-top: 5px;
    }
    .format-buttons,
    .paper-type-buttons,
    .quantity-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .format-buttons button,
    .paper-type-buttons button,
    .quantity-buttons button {
      padding: 6px;
      font-size: 13px;
      cursor: pointer;
    }
    .side-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .side-buttons button {
      flex: 1 1 45%;
      padding: 8px;
      font-size: 14px;
    }
    .selected {
      background-color: #007BFF;
      color: white;
    }
    table.result-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      margin-top: 15px;
      overflow-x: auto;
    }
    table.result-table th,
    table.result-table td {
      border: 1px solid #ccc;
      padding: 6px;
      text-align: center;
      white-space: nowrap;
    }
    table.result-table tr:hover {
      background-color: #f9f9f9;
    }
    .saved-list {
      margin-top: 20px;
      border-top: 1px solid #ccc;
      padding-top: 10px;
    }
    .saved-item {
      background: #f9f9f9;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      font-size: 14px;
    }
    .settings-panel {
      display: none;
      margin-top: 10px;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 5px;
    }
    .sub-field {
      margin-left: 15px;
      margin-top: 5px;
    }
    .remember-btn {
      padding: 4px 8px;
      font-size: 12px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .remember-btn:hover {
      background-color: #218838;
    }
    #statusMessage {
      color: red;
      font-size: 14px;
      margin-bottom: 10px;
    }
    #productTypeButtons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 8px;
      margin-top: 15px;
    }
    #productTypeButtons button {
      padding: 6px 10px;
      font-size: 12px;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
      cursor: pointer;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    #productTypeButtons button.selected {
      background-color: #007BFF;
      color: white;
    }
    @media (max-width: 768px) {
      .remember-btn {
        font-size: 11px;
        padding: 3px 6px;
      }
      .side-buttons button {
        font-size: 13px;
        padding: 6px;
      }
      .format-buttons button,
      .paper-type-buttons button,
      .quantity-buttons button {
        font-size: 12px;
        padding: 6px;
      }
    }
    @media (max-width: 480px) {
      h2 {
        font-size: 16px;
      }
      label {
        font-size: 13px;
      }
      input[type="number"], select, button {
        font-size: 14px;
      }
      .format-buttons,
      .paper-type-buttons,
      .quantity-buttons {
        grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
      }
    }
  </style>
</head>
<body>
<h2>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º –±—É–º–∞–≥–∏</h2>

<!-- –ë–ª–æ–∫ —Å –ø—Ä–æ–¥—É–∫—Ü–∏–µ–π (–ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –Ω–∞–≤–µ—Ä—Ö) -->
<div id="productTypeButtons">
  <button type="button" onclick="selectProductType(this)" data-type="–í–∏–∑–∏—Ç–∫–∏">–í–∏–∑–∏—Ç–∫–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ë—É–∫–ª–µ—Ç—ã">–ë—É–∫–ª–µ—Ç—ã</button>
  <button type="button" onclick="selectProductType(this)" data-type="–õ–∏—Å—Ç–æ–≤–∫–∏">–õ–∏—Å—Ç–æ–≤–∫–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–§–ª–∞–µ—Ä—ã">–§–ª–∞–µ—Ä—ã</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ö–∞–ª–µ–Ω–¥–∞—Ä–∏">–ö–∞–ª–µ–Ω–¥–∞—Ä–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ü–ª–∞–∫–∞—Ç—ã">–ü–ª–∞–∫–∞—Ç—ã</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ü–∞–ø–∫–∏">–ü–∞–ø–∫–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ü–∞–∫–µ—Ç—ã">–ü–∞–∫–µ—Ç—ã</button>
  <button type="button" onclick="selectProductType(this)" data-type="–û—Ç–∫—Ä—ã—Ç–∫–∏">–û—Ç–∫—Ä—ã—Ç–∫–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ë–ª–æ–∫–Ω–æ—Ç—ã">–ë–ª–æ–∫–Ω–æ—Ç—ã</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ù–∞–∫–ª–µ–π–∫–∏ –±—É–º–∞–∂–Ω—ã–µ">–ù–∞–∫–ª–µ–π–∫–∏ –±—É–º–∞–∂–Ω—ã–µ</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ë–ª–∞–Ω–∫–∏">–ë–ª–∞–Ω–∫–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ö–∞—Ä—Ç–æ—á–∫–∏">–ö–∞—Ä—Ç–æ—á–∫–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–ë–∏—Ä–∫–∏">–ë–∏—Ä–∫–∏</button>
  <button type="button" onclick="selectProductType(this)" data-type="–•–µ–Ω–≥–µ—Ä—ã">–•–µ–Ω–≥–µ—Ä—ã</button>
  <button type="button" onclick="selectProductType(this)" data-type="–î–∏–ø–ª–æ–º—ã">–î–∏–ø–ª–æ–º—ã</button>
</div>

<!-- –°–æ–æ–±—â–µ–Ω–∏–µ -->
<div id="statusMessage"></div>

<!-- –ó–∞–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞ -->
<div style="margin-bottom: 15px;">
  <label>–ó–∞–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞:</label>
  <textarea id="clientRequestInput" rows="4" style="width: 100%;"></textarea>
</div>

<!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—á–∞—Ç–∏ -->
<div style="margin-bottom: 15px;">
  <button onclick="togglePrintSettings()" id="btnPrint">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—á–∞—Ç–∏ ‚ñº</button>
  <div id="printSettingsPanel" class="settings-panel">
    <label>–ü–µ—á–∞—Ç—å SRA3 (–∫–æ–ø–∏—è)</label><input type="number" id="printCostZ" value="15">
    <label>–ü—Ä–∏–ª–∞–¥–∫–∞ SRA3</label><input type="number" id="setupPrintZ" value="300">
    <label>–ü–µ—á–∞—Ç—å B2 (–∫–æ–ø–∏—è)</label><input type="number" id="printCostE" value="50">
    <label>–ü—Ä–∏–ª–∞–¥–∫–∞ B2</label><input type="number" id="setupPrintE" value="500">
    <label>–û—Ñ—Å–µ—Ç –ê2 (–∫–æ–ø–∏—è)</label><input type="number" id="printCostOffsetA2" value="2">
    <label>–ü—Ä–∏–ª–∞–¥–∫–∞ –ê2</label><input type="number" id="setupPrintOffsetA2" value="10000">
  </div>
</div>

<!-- –ü–æ—Å–ª–µ–ø–µ—á–∞—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã -->
<div style="margin-bottom: 15px;">
  <button onclick="togglePostpress()" id="btnPostpress">‚öôÔ∏è –ü–æ—Å–ª–µ–ø–µ—á–∞—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã ‚ñº</button>
  <div id="postpressPanel" class="settings-panel">
    <!-- –†–µ–∑–∫–∞ -->
    <label><input type="checkbox" id="cuttingEnabled" checked onchange="updateSubFields()"> –†–µ–∑–∫–∞</label>
    <div class="sub-field" id="cuttingOptions">
      <label>–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–∑–∫–∏ –∑–∞ –ª–∏—Å—Ç:</label>
      <input type="number" id="cuttingCostSetting" value="1" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∑–∫–∏:</label>
      <input type="number" id="setupCutting" value="300" oninput="onInputChange()">
    </div>
    <!-- –õ–∞–º–∏–Ω–∞—Ü–∏—è -->
    <label><input type="checkbox" id="laminationEnabled" onchange="updateSubFields()"> –õ–∞–º–∏–Ω–∞—Ü–∏—è</label>
    <div class="sub-field" id="laminationOptions" style="display:none;">
      <label>–¶–µ–Ω–∞ –ª–∞–º–∏–Ω–∞—Ü–∏–∏ –∑–∞ –ª–∏—Å—Ç:</label>
      <input type="number" id="laminationCost" value="12" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∞–º–∏–Ω–∞—Ü–∏–∏:</label>
      <input type="number" id="setupLamination" value="300" oninput="onInputChange()">
      <label><input type="radio" name="laminationSides" value="1+0" checked> –û–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è</label>
      <label><input type="radio" name="laminationSides" value="1+1"> –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è</label>
    </div>
    <!-- –ë–∏–≥–æ–≤–∫–∞ -->
    <label><input type="checkbox" id="scoreEnabled" onchange="updateSubFields()"> –ë–∏–≥–æ–≤–∫–∞</label>
    <div class="sub-field" id="scoreOptions" style="display:none;">
      <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –±–∏–≥–∞:</label>
      <input type="number" id="scoreCost" value="2" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∏–≥–æ–≤–∫–∏:</label>
      <input type="number" id="setupScore" value="300" oninput="onInputChange()">
      <label>–ë–∏–≥–æ–≤ –Ω–∞ –∏–∑–¥–µ–ª–∏–µ:</label>
      <input type="number" id="scoreCountInput" value="2" oninput="onInputChange()">
    </div>
    <!-- –§–∞–ª—å—Ü–æ–≤–∫–∞ -->
    <label><input type="checkbox" id="foldingEnabled" onchange="updateSubFields()"> –§–∞–ª—å—Ü–æ–≤–∫–∞</label>
    <div class="sub-field" id="foldingOptions" style="display:none;">
      <label>–¶–µ–Ω–∞ —Ñ–∞–ª—å—Ü–æ–≤–∫–∏ –∑–∞ –∏–∑–¥–µ–ª–∏–µ:</label>
      <input type="number" id="foldingCostSetting" value="1" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–ª—å—Ü–æ–≤–∫–∏:</label>
      <input type="number" id="setupFolding" value="300" oninput="onInputChange()">
    </div>
    <!-- –í—ã—Ä—É–±–∫–∞ -->
    <label><input type="checkbox" id="diecutEnabled" onchange="updateSubFields()"> –í—ã—Ä—É–±–∫–∞</label>
    <div class="sub-field" id="diecutOptions" style="display:none;">
      <label>–¶–µ–Ω–∞ –≤—ã—Ä—É–±–∫–∏ –∑–∞ –∏–∑–¥–µ–ª–∏–µ:</label>
      <input type="number" id="diecutCostSetting" value="5" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã—Ä—É–±–∫–∏:</label>
      <input type="number" id="setupDiecut" value="5000" oninput="onInputChange()">
      <label>–°—Ç–æ–∏–º–æ—Å—Ç—å —à—Ç–∞–º–ø–∞:</label>
      <input type="number" id="diecutStampCostSetting" value="5500" oninput="onInputChange()">
    </div>
    <!-- –£–§-–ª–∞–∫ -->
    <label><input type="checkbox" id="uvLacquerEnabled" onchange="updateSubFields()"> –£–§-–ª–∞–∫</label>
    <div class="sub-field" id="uvLacquerOptions" style="display:none;">
      <label>–¶–µ–Ω–∞ –£–§-–ª–∞–∫–∞ –∑–∞ –ª–∏—Å—Ç:</label>
      <input type="number" id="uvLacquerCostSetting" value="10" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –£–§-–ª–∞–∫–∞:</label>
      <input type="number" id="setupUvLacquer" value="5000" oninput="onInputChange()">
    </div>
    <!-- –¢–∏—Å–Ω–µ–Ω–∏–µ -->
    <label><input type="checkbox" id="embossingEnabled" onchange="updateSubFields()"> –¢–∏—Å–Ω–µ–Ω–∏–µ</label>
    <div class="sub-field" id="embossingOptions" style="display:none;">
      <label>–¶–µ–Ω–∞ —Ç–∏—Å–Ω–µ–Ω–∏—è –∑–∞ –∏–∑–¥–µ–ª–∏–µ:</label>
      <input type="number" id="embossingCostSetting" value="10" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏—Å–Ω–µ–Ω–∏—è:</label>
      <input type="number" id="setupEmbossing" value="4500" oninput="onInputChange()">
      <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –∫–ª–∏—à–µ:</label>
      <input type="number" id="embossingKlischeCostSetting" value="2000" oninput="onInputChange()">
    </div>
    <!-- –°–±–æ—Ä–∫–∞ -->
    <label><input type="checkbox" id="assemblyEnabled" onchange="updateSubFields()"> –°–±–æ—Ä–∫–∞</label>
    <div class="sub-field" id="assemblyOptions" style="display:none;">
      <label>–¶–µ–Ω–∞ —Å–±–æ—Ä–∫–∏ –∑–∞ –∏–∑–¥–µ–ª–∏–µ:</label>
      <input type="number" id="assemblyCostSetting" value="5" oninput="onInputChange()">
      <label>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–±–æ—Ä–∫–∏:</label>
      <input type="number" id="setupAssembly" value="300" oninput="onInputChange()">
    </div>
  </div>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ -->
<div class="main-container">
  <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å -->
  <div class="left">
    <label>–®–∏—Ä–∏–Ω–∞ (–º–º):</label>
    <input type="number" id="width" value="50" oninput="onInputChange();">
    <label>–í—ã—Å–æ—Ç–∞ (–º–º):</label>
    <input type="number" id="height" value="90" oninput="onInputChange();">
    <div class="format-buttons" id="formatButtons">
      <button onclick="setFormat('50√ó90')">50√ó90</button>
      <button onclick="setFormat('85√ó55')">85√ó55</button>
      <button onclick="setFormat('90√ó90')">90√ó90</button>
      <button onclick="setFormat('70√ó100')">70√ó100</button>
      <button onclick="setFormat('100√ó100')">100√ó100</button>
      <button onclick="setFormat('99√ó210')">99√ó210</button>
      <button onclick="setFormat('105√ó148')">–ê6 (105√ó148)</button>
      <button onclick="setFormat('148√ó210')">–ê5 (148√ó210)</button>
      <button onclick="setFormat('210√ó297')">–ê4 (210√ó297)</button>
      <button onclick="setFormat('297√ó420')">–ê3 (297√ó420)</button>
      <button onclick="setFormat('420√ó594')">–ê2 (420√ó594)</button>
    </div>
    <!-- –¢–∏—Ä–∞–∂ -->
    <label>–¢–∏—Ä–∞–∂:</label>
    <input type="number" id="quantity" value="1000" oninput="onInputChange();">
    <div class="quantity-buttons" id="quantityButtons"></div>
    <!-- –¶–≤–µ—Ç–Ω–æ—Å—Ç—å -->
    <label>–¶–≤–µ—Ç–Ω–æ—Å—Ç—å:</label>
    <div class="side-buttons">
      <button id="btn_4_0" onclick="setSides(1)" class="selected">4+0</button>
      <button id="btn_4_4" onclick="setSides(2)">4+4</button>
    </div>
    <!-- –¢–∏–ø –±—É–º–∞–≥–∏ -->
    <label>–¢–∏–ø –±—É–º–∞–≥–∏:</label>
    <select id="paperType" onchange="updatePaperOptions(); onInputChange();">
      <option value="offset">–û—Ñ—Å–µ—Ç–Ω–∞—è</option>
      <option value="matt" selected>–ú–µ–ª–æ–≤–∞–Ω–Ω–∞—è</option>
      <option value="cardboard">–ö–∞—Ä—Ç–æ–Ω</option>
    </select>
    <!-- –ü–ª–æ—Ç–Ω–æ—Å—Ç—å -->
    <label>–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –±—É–º–∞–≥–∏:</label>
    <div class="paper-type-buttons" id="paperOptions"></div>
    <div id="display_paper">–í—ã–±—Ä–∞–Ω–æ: –ú–µ–ª–æ–≤–∞–Ω–Ω–∞—è 300 –≥/–º¬≤</div>
    <!-- –¶–µ–Ω–∞ –∑–∞ –∫–≥ -->
    <label>–¶–µ–Ω–∞ –±—É–º–∞–≥–∏ –∑–∞ –∫–≥:</label>
    <input type="number" id="paperPricePerKg" value="300" oninput="onInputChange();">
  </div>
  <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å -->
  <div class="right">
    <table class="result-table" id="resultsBody">
      <thead>
        <tr>
          <th>–§–æ—Ä–º–∞—Ç</th>
          <th>–ò–∑–¥–µ–ª–∏–π –Ω–∞ –ª–∏—Å—Ç–µ</th>
          <th>–õ–∏—Å—Ç–æ–≤</th>
          <th>–ë—É–º–∞–≥–∞</th>
          <th>–ü–µ—á–∞—Ç—å</th>
          <th>–†–µ–∑–∫–∞</th>
          <th>–õ–∞–º–∏–Ω.</th>
          <th>–ë–∏–≥–æ–≤–∫–∞</th>
          <th>–§–∞–ª—å—Ü.</th>
          <th>–í—ã—Ä—É–±–∫–∞</th>
          <th>–£–§-–ª–∞–∫</th>
          <th>–¢–∏—Å–Ω–µ–Ω–∏–µ</th>
          <th>–°–±–æ—Ä–∫–∞</th>
          <th>–ò—Ç–æ–≥–æ</th>
        </tr>
      </thead>
      <tbody id="resultsTable">
        <tr><td colspan="14">–ù–∞–∂–º–∏—Ç–µ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å¬ª –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</td></tr>
      </tbody>
    </table>
  </div>
</div>

<!-- –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
<div class="saved-list">
  <h3>–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å</h3>
  <p id="savedMessage_cost">–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>
  <div id="savedCalculations_cost"></div>
</div>
<div class="saved-list">
  <h3>–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏</h3>
  <p id="savedMessage_price">–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>
  <div id="savedCalculations_price"></div>
</div>
<div class="saved-list">
  <h3>–ü—Ä–∏–±—ã–ª—å</h3>
  <p id="savedMessage_profit">–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>
  <div id="savedCalculations_profit"></div>
</div>

<!-- –ù–∞—Ü–µ–Ω–∫–∞ -->
<div style="margin-top: 15px;">
  <label>–ù–∞—Ü–µ–Ω–∫–∞ (%):</label>
  <input type="number" id="markupPercent" value="20" oninput="onInputChange()" style="width: 100%;">
</div>
<button onclick="copyToClipboard()" style="margin-top: 10px;">üíæ –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä</button>
<input type="hidden" id="densityInput" value="300">

<!-- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã -->
<div style="margin-top: 30px; border-top: 2px solid #ccc; padding-top: 20px;">
  <h3>üîß –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤</h3>
  <div style="margin-bottom: 20px;">
    <h4>üìÑ –°—Ç–æ–∏–º–æ—Å—Ç—å –±—É–º–∞–≥–∏ –∑–∞ –∫–≥</h4>
    <ul>
      <li><strong>–û—Ñ—Å–µ—Ç–Ω–∞—è:</strong> 125 —Ä—É–±./–∫–≥</li>
      <li><strong>–ú–µ–ª–æ–≤–∞–Ω–Ω–∞—è:</strong> 135 —Ä—É–±./–∫–≥ (–¥–æ 200 –≥/–º¬≤), 155 —Ä—É–±./–∫–≥ (—Å–≤—ã—à–µ)</li>
      <li><strong>–ö–∞—Ä—Ç–æ–Ω:</strong> 160 —Ä—É–±./–∫–≥</li>
    </ul>
  </div>
  <div style="margin-bottom: 20px;">
    <h4>üñ®Ô∏è –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏</h4>
    <ul>
      <li><strong>SRA3 (—Ü–∏—Ñ—Ä–∞):</strong> 15 —Ä—É–±./–ª–∏—Å—Ç + –ø—Ä–∏–ª–∞–¥–∫–∞ 300 —Ä—É–±.</li>
      <li><strong>B2 (—Ü–∏—Ñ—Ä–∞):</strong> 50 —Ä—É–±./–ª–∏—Å—Ç + –ø—Ä–∏–ª–∞–¥–∫–∞ 500 —Ä—É–±.</li>
      <li><strong>–ê2 (–æ—Ñ—Å–µ—Ç):</strong> 2 —Ä—É–±./–ª–∏—Å—Ç + –ø—Ä–∏–ª–∞–¥–∫–∞ 10‚ÄØ000 —Ä—É–±.</li>
    </ul>
  </div>
  <div style="margin-bottom: 20px;">
    <h4>‚úÇÔ∏è –ü–æ—Å–ª–µ–ø–µ—á–∞—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</h4>
    <ul>
      <li><strong>–†–µ–∑–∫–∞:</strong> 1 —Ä—É–±./–ª–∏—Å—Ç + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 300 —Ä—É–±.</li>
      <li><strong>–õ–∞–º–∏–Ω–∞—Ü–∏—è:</strong> 12 —Ä—É–±./–ª–∏—Å—Ç + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 300 —Ä—É–±.</li>
      <li><strong>–ë–∏–≥–æ–≤–∫–∞:</strong> 2 —Ä—É–±./–±–∏–≥ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 300 —Ä—É–±.</li>
      <li><strong>–§–∞–ª—å—Ü–æ–≤–∫–∞:</strong> 1 —Ä—É–±./–∏–∑–¥–µ–ª–∏–µ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 300 —Ä—É–±.</li>
      <li><strong>–í—ã—Ä—É–±–∫–∞:</strong> 5 —Ä—É–±./–∏–∑–¥–µ–ª–∏–µ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 5000 —Ä—É–±. + —à—Ç–∞–º–ø 5500 —Ä—É–±.</li>
      <li><strong>–£–§-–ª–∞–∫:</strong> 10 —Ä—É–±./–ª–∏—Å—Ç + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 5000 —Ä—É–±.</li>
      <li><strong>–¢–∏—Å–Ω–µ–Ω–∏–µ:</strong> 10 —Ä—É–±./–∏–∑–¥–µ–ª–∏–µ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 4500 —Ä—É–±. + –∫–ª–∏—à–µ 2000 —Ä—É–±.</li>
      <li><strong>–°–±–æ—Ä–∫–∞:</strong> 5 —Ä—É–±./–∏–∑–¥–µ–ª–∏–µ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ 300 —Ä—É–±.</li>
    </ul>
  </div>
</div>

<script>
let s = 1;
const formatLabels = {
  Z: "–¶–∏—Ñ—Ä–∞ SRA3",
  E: "–¶–∏—Ñ—Ä–∞ B2",
  A: "–û—Ñ—Å–µ—Ç 50√ó70",
  B: "–û—Ñ—Å–µ—Ç 47√ó62",
  R: "–û—Ñ—Å–µ—Ç 47√ó65",
  M: "–û—Ñ—Å–µ—Ç 52√ó72"
};
const sheetFormats = [
  { name: "Z", paperSize: { w: 320, h: 450 }, printArea: { w: 310, h: 430 } },
  { name: "E", paperSize: { w: 520, h: 720 }, printArea: { w: 500, h: 710 } },
  { name: "B", paperSize: { w: 470, h: 620 }, printArea: { w: 450, h: 610 } },
  { name: "R", paperSize: { w: 470, h: 650 }, printArea: { w: 450, h: 640 } },
  { name: "A", paperSize: { w: 500, h: 700 }, printArea: { w: 480, h: 690 } },
  { name: "M", paperSize: { w: 520, h: 720 }, printArea: { w: 500, h: 710 } }
];
const densityMap = {
  offset: [80, 100, 120, 160, 190],
  matt: [90, 115, 130, 150, 170, 200, 250, 300],
  cardboard: [215, 230, 250, 270, 300, 320, 350]
};
let savedResults = [];
let selectedProductType = "";
function setSides(val) {
  s = val;
  document.querySelectorAll(".side-buttons button").forEach(btn => btn.classList.remove("selected"));
  if (val === 1) {
    document.getElementById("btn_4_0").classList.add("selected");
  } else {
    document.getElementById("btn_4_4").classList.add("selected");
  }
  onInputChange();
}
function setFormat(sizeStr) {
  const size = sizeStr.split("√ó");
  document.getElementById("width").value = size[0];
  document.getElementById("height").value = size[1];
  updateFormatButtons();
  onInputChange();
}
function updateFormatButtons() {
  const currentW = Number(document.getElementById("width").value);
  const currentH = Number(document.getElementById("height").value);
  document.querySelectorAll("#formatButtons button").forEach(btn => {
    const btnText = btn.textContent.trim().match(/(\d+)√ó(\d+)/)?.[0] || "";
    btn.classList.remove("selected");
    if (btnText === `${currentW}√ó${currentH}` || btnText === `${currentH}√ó${currentW}`) {
      btn.classList.add("selected");
    }
  });
}
function updatePaperOptions() {
  const paperType = document.getElementById("paperType").value;
  const optionsDiv = document.getElementById("paperOptions");
  optionsDiv.innerHTML = "";
  const densities = densityMap[paperType] || [];
  if (!densities.length) return;
  densities.forEach(d => {
    const btn = document.createElement("button");
    btn.textContent = d + " –≥/–º¬≤";
    btn.onclick = () => {
      document.querySelectorAll("#paperOptions button").forEach(b => b.classList.remove("selected"));
      btn.classList.add("selected");
      document.getElementById("densityInput").value = d;
      const price = getPaperPriceByTypeAndDensity(paperType, d);
      document.getElementById("paperPricePerKg").value = price;
      onInputChange();
    };
    optionsDiv.appendChild(btn);
  });
  if (optionsDiv.children.length > 0) optionsDiv.children[0].click();
}
function getPaperPriceByTypeAndDensity(paperType, density) {
  if (paperType === "offset") return 125;
  if (paperType === "matt") return density <= 200 ? 135 : 155;
  if (paperType === "cardboard") return 160;
  return 0;
}
function togglePostpress() {
  const panel = document.getElementById("postpressPanel");
  panel.style.display = panel.style.display === "none" ? "block" : "none";
  document.getElementById("btnPostpress").textContent =
    panel.style.display === "none" ? "‚öôÔ∏è –ü–æ—Å–ª–µ–ø–µ—á–∞—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã ‚ñº" : "‚öôÔ∏è –ü–æ—Å–ª–µ–ø–µ—á–∞—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã ‚ñ≤";
}
function updateSubFields() {
  const fields = [
    { checkboxId: 'laminationEnabled', containerId: 'laminationOptions' },
    { checkboxId: 'scoreEnabled', containerId: 'scoreOptions' },
    { checkboxId: 'foldingEnabled', containerId: 'foldingOptions' },
    { checkboxId: 'diecutEnabled', containerId: 'diecutOptions' },
    { checkboxId: 'uvLacquerEnabled', containerId: 'uvLacquerOptions' },
    { checkboxId: 'embossingEnabled', containerId: 'embossingOptions' },
    { checkboxId: 'assemblyEnabled', containerId: 'assemblyOptions' },
    { checkboxId: 'cuttingEnabled', containerId: 'cuttingOptions' }
  ];
  fields.forEach(({ checkboxId, containerId }) => {
    const isChecked = document.getElementById(checkboxId)?.checked ?? false;
    document.getElementById(containerId).style.display = isChecked ? "block" : "none";
  });
  onInputChange();
}
function onInputChange() {
  calculate();
  renderSavedList();
}
function calculate() {
  const resultsTable = document.getElementById("resultsTable");
  resultsTable.innerHTML = "";
  const w = Number(document.getElementById("width").value);
  const h = Number(document.getElementById("height").value);
  const N = Number(document.getElementById("quantity").value);
  const density = Number(document.getElementById("densityInput").value);
  const paperPricePerKg = Number(document.getElementById("paperPricePerKg").value);
  const paperType = document.getElementById("paperType").value;
  const c_p_Z = Number(document.getElementById("printCostZ").value);
  const P_Z = Number(document.getElementById("setupPrintZ").value);
  const c_p_E = Number(document.getElementById("printCostE").value);
  const P_E = Number(document.getElementById("setupPrintE").value);
  const c_p_Offset = Number(document.getElementById("printCostOffsetA2").value);
  const P_Offset = Number(document.getElementById("setupPrintOffsetA2").value);
  const cuttingEnabled = document.getElementById("cuttingEnabled")?.checked ?? false;
  const cuttingCost = Number(document.getElementById("cuttingCostSetting").value) || 0;
  const setupCutting = Number(document.getElementById("setupCutting").value) || 0;
  const laminationEnabled = document.getElementById("laminationEnabled")?.checked ?? false;
  const laminationCost = Number(document.getElementById("laminationCost").value) || 0;
  const setupLamination = Number(document.getElementById("setupLamination").value) || 0;
  const laminationSides = document.querySelector('input[name="laminationSides"]:checked')?.value ?? "1+0";
  const scoreEnabled = document.getElementById("scoreEnabled")?.checked ?? false;
  const scoreCost = Number(document.getElementById("scoreCost").value) || 0;
  const setupScore = Number(document.getElementById("setupScore").value) || 0;
  const scoreCount = Number(document.getElementById("scoreCountInput").value) || 0;
  const foldingEnabled = document.getElementById("foldingEnabled")?.checked ?? false;
  const foldingCost = Number(document.getElementById("foldingCostSetting").value) || 0;
  const setupFolding = Number(document.getElementById("setupFolding").value) || 0;
  const diecutEnabled = document.getElementById("diecutEnabled")?.checked ?? false;
  const diecutCost = Number(document.getElementById("diecutCostSetting").value) || 0;
  const setupDiecut = Number(document.getElementById("setupDiecut").value) || 0;
  const diecutStampCost = Number(document.getElementById("diecutStampCostSetting").value) || 0;
  const uvLacquerEnabled = document.getElementById("uvLacquerEnabled")?.checked ?? false;
  const uvLacquerCost = Number(document.getElementById("uvLacquerCostSetting").value) || 0;
  const setupUvLacquer = Number(document.getElementById("setupUvLacquer").value) || 0;
  const embossingEnabled = document.getElementById("embossingEnabled")?.checked ?? false;
  const embossingCost = Number(document.getElementById("embossingCostSetting").value) || 0;
  const setupEmbossing = Number(document.getElementById("setupEmbossing").value) || 0;
  const embossingKlischeCost = Number(document.getElementById("embossingKlischeCostSetting").value) || 0;
  const assemblyEnabled = document.getElementById("assemblyEnabled")?.checked ?? false;
  const assemblyCost = Number(document.getElementById("assemblyCostSetting").value) || 0;
  const setupAssembly = Number(document.getElementById("setupAssembly").value) || 0;
  sheetFormats.forEach(sheet => {
    const W = w + 4;
    const H = h + 4;
    const printW = sheet.printArea.w;
    const printH = sheet.printArea.h;
    const v1 = Math.floor(printW / W) * Math.floor(printH / H);
    const v2 = Math.floor(printW / H) * Math.floor(printH / W);
    const N_opt = Math.max(v1, v2);
    const baseSheets = N > 0 ? Math.ceil(N / N_opt) : 0;
    const extraSheets = ["Z", "E"].includes(sheet.name) ? 3 : 250;
    const totalSheets = baseSheets + extraSheets;
    const areaSheet = (sheet.paperSize.w / 1000) * (sheet.paperSize.h / 1000);
    const weightSheet = areaSheet * (density / 1000);
    const paperTotal = weightSheet * paperPricePerKg * totalSheets;
    const printCostPerSheet = sheet.name === "Z" ? c_p_Z :
                             sheet.name === "E" ? c_p_E : c_p_Offset;
    const setupPrintValue = sheet.name === "Z" ? P_Z :
                           sheet.name === "E" ? P_E : P_Offset;
    const printTotal = printCostPerSheet * totalSheets * s + setupPrintValue;
    const cuttingTotal = cuttingEnabled ? cuttingCost * totalSheets + setupCutting : 0;
    const laminationTotal = laminationEnabled ?
      laminationCost * totalSheets * (laminationSides === "1+1" ? 2 : 1) + setupLamination : 0;
    const scoreTotal = scoreEnabled ? N * scoreCount * scoreCost + setupScore : 0;
    const foldingTotal = foldingEnabled ? N * foldingCost + setupFolding : 0;
    const diecutTotal = diecutEnabled ? N * diecutCost + setupDiecut + diecutStampCost : 0;
    const uvLacquerTotal = uvLacquerEnabled ? uvLacquerCost * totalSheets + setupUvLacquer : 0;
    const embossingTotal = embossingEnabled ? N * embossingCost + setupEmbossing + embossingKlischeCost : 0;
    const assemblyTotal = assemblyEnabled ? N * assemblyCost + setupAssembly : 0;
    const total = paperTotal + printTotal + cuttingTotal + laminationTotal + scoreTotal +
                  foldingTotal + diecutTotal + uvLacquerTotal + embossingTotal + assemblyTotal;
    const roundedTotal = Math.round(total / 10) * 10;
    const row = document.createElement("tr");
    if (N_opt === 0 && N > 0) {
      row.innerHTML = `<td colspan="14">–ù–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è</td>`;
    } else {
      row.innerHTML = `
        <td>
          <button class="remember-btn" 
            onclick='rememberResult("${sheet.name}", "${w}√ó${h}", "${s === 1 ? "4+0" : "4+4"}", "${paperType}", ${density}, ${N}, ${roundedTotal.toFixed(2)},
              ${cuttingEnabled}, ${laminationEnabled}, "${laminationSides}", ${scoreEnabled}, ${foldingEnabled}, ${diecutEnabled}, ${uvLacquerEnabled}, ${embossingEnabled}, ${assemblyEnabled})'>
            ‚ûï ${formatLabels[sheet.name]}
          </button>
        </td>
        <td>${N_opt}</td>
        <td>${totalSheets}</td>
        <td>${paperTotal.toFixed(2)}</td>
        <td>${printTotal.toFixed(2)}</td>
        <td>${cuttingEnabled ? cuttingTotal.toFixed(2) : "‚Äî"}</td>
        <td>${laminationEnabled ? laminationTotal.toFixed(2) : "‚Äî"}</td>
        <td>${scoreEnabled ? scoreTotal.toFixed(2) : "‚Äî"}</td>
        <td>${foldingEnabled ? foldingTotal.toFixed(2) : "‚Äî"}</td>
        <td>${diecutEnabled ? diecutTotal.toFixed(2) : "‚Äî"}</td>
        <td>${uvLacquerEnabled ? uvLacquerTotal.toFixed(2) : "‚Äî"}</td>
        <td>${embossingEnabled ? embossingTotal.toFixed(2) : "‚Äî"}</td>
        <td>${assemblyEnabled ? assemblyTotal.toFixed(2) : "‚Äî"}</td>
        <td><b>${roundedTotal.toFixed(2)}</b></td>
      `;
    }
    resultsTable.appendChild(row);
  });
}
function rememberResult(format, productSize, color, paperType, density, quantity, cost,
                        cuttingEnabled, laminationEnabled, laminationSides,
                        scoreEnabled, foldingEnabled, diecutEnabled, uvLacquerEnabled, embossingEnabled, assemblyEnabled) {
  const key = JSON.stringify({ format, productSize, color, paperType, density, quantity, cost });
  if (savedResults.some(r => JSON.stringify(r) === key)) {
    alert("‚ùó –¢–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —É–∂–µ –∑–∞–ø–æ–º–Ω–µ–Ω.");
    return;
  }
  savedResults.push({
    format, productSize, color, paperType, density, quantity, cost,
    productType: selectedProductType,
    cuttingEnabled, laminationEnabled, laminationSides,
    scoreEnabled, foldingEnabled, diecutEnabled, uvLacquerEnabled, embossingEnabled, assemblyEnabled,
    priceOverride: null // <-- –Ω–æ–≤–æ–µ –ø–æ–ª–µ
  });
  renderSavedList();
}
function renderSavedList() {
  const listCost = document.getElementById("savedCalculations_cost");
  const listPrice = document.getElementById("savedCalculations_price");
  const listProfit = document.getElementById("savedCalculations_profit");
  [listCost, listPrice, listProfit].forEach(list => {
    while (list.firstChild) list.removeChild(list.firstChild);
  });
  if (savedResults.length === 0) {
    document.getElementById("savedMessage_cost").style.display = "block";
    document.getElementById("savedMessage_price").style.display = "block";
    document.getElementById("savedMessage_profit").style.display = "block";
    return;
  }
  document.getElementById("savedMessage_cost").style.display = "none";
  document.getElementById("savedMessage_price").style.display = "none";
  document.getElementById("savedMessage_profit").style.display = "none";
  const markupFactor = (100 + Number(document.getElementById("markupPercent").value || 20)) / 100;
  savedResults.forEach((res, index) => {
    const cost = res.cost;
    const hasOverride = res.priceOverride !== null;
    const priceWithMarkup = hasOverride ? res.priceOverride : cost * markupFactor;
    const profit = priceWithMarkup - cost;
    const postpress = [];
    if (res.cuttingEnabled) postpress.push("–†–µ–∑–∫–∞");
    if (res.laminationEnabled) postpress.push("–õ–∞–º–∏–Ω–∞—Ü–∏—è " + res.laminationSides);
    if (res.scoreEnabled) postpress.push("–ë–∏–≥–æ–≤–∫–∞");
    if (res.foldingEnabled) postpress.push("–§–∞–ª—å—Ü–æ–≤–∫–∞");
    if (res.diecutEnabled) postpress.push("–í—ã—Ä—É–±–∫–∞");
    if (res.uvLacquerEnabled) postpress.push("–£–§-–ª–∞–∫");
    if (res.embossingEnabled) postpress.push("–¢–∏—Å–Ω–µ–Ω–∏–µ");
    if (res.assemblyEnabled) postpress.push("–°–±–æ—Ä–∫–∞");
    const postpressText = postpress.length ? ", " + postpress.join(", ") : "";
    const title = res.productType ? `${res.productType}, ` : "";
    // –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å
    const divCost = document.createElement("div");
    divCost.className = "saved-item";
    divCost.innerHTML = `<strong>${title}${res.productSize}</strong>, ${res.color}, ${getPaperTypeLabel(res.paperType)} ${res.density} –≥/–º¬≤${postpressText} ‚Äî ${res.quantity} —à—Ç ‚Üí <b>${cost} —Ä—É–±.</b><hr>`;
    listCost.appendChild(divCost);
    // –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (+ –∫–Ω–æ–ø–∫–∞)
    const divPrice = document.createElement("div");
    divPrice.className = "saved-item";
    divPrice.innerHTML = `
      <strong>${title}${res.productSize}</strong>, ${res.color}, ${getPaperTypeLabel(res.paperType)} ${res.density} –≥/–º¬≤${postpressText} ‚Äî ${res.quantity} —à—Ç ‚Üí 
      <b>${priceWithMarkup.toFixed(2)} —Ä—É–±.</b>
      <button onclick='increasePrice(${index})' style="margin-left: 10px; padding: 4px 8px; font-size: 12px;">+500</button>
      <hr>`;
    listPrice.appendChild(divPrice);
    // –ü—Ä–∏–±—ã–ª—å
    const divProfit = document.createElement("div");
    divProfit.className = "saved-item";
    divProfit.innerHTML = `<strong>${title}${res.productSize}</strong>, ${res.color}, ${getPaperTypeLabel(res.paperType)} ${res.density} –≥/–º¬≤${postpressText} ‚Äî ${res.quantity} —à—Ç ‚Üí <b>${profit.toFixed(2)} —Ä—É–±.</b><hr>`;
    listProfit.appendChild(divProfit);
  });
}
function increasePrice(index) {
  if (savedResults[index]) {
    const currentCost = savedResults[index].cost;
    const currentPrice = savedResults[index].priceOverride !== null ?
                         savedResults[index].priceOverride :
                         currentCost * ((100 + Number(document.getElementById("markupPercent").value || 20)) / 100);
    savedResults[index].priceOverride = currentPrice + 500;
    renderSavedList();
  }
}
function getPaperTypeLabel(type) {
  return type === "offset" ? "–û—Ñ—Å–µ—Ç–Ω–∞—è" :
         type === "matt" ? "–ú–µ–ª–æ–≤–∞–Ω–Ω–∞—è" :
         type === "cardboard" ? "–ö–∞—Ä—Ç–æ–Ω" : type;
}
function copyToClipboard() {
  if (savedResults.length === 0) {
    alert("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è");
    return;
  }
  let text = "";
  const markupPercent = Number(document.getElementById("markupPercent").value || 20);
  const markupFactor = (100 + markupPercent) / 100;
  savedResults.forEach(res => {
    const cost = res.cost;
    const hasOverride = res.priceOverride !== null;
    const price = hasOverride ? res.priceOverride : cost * markupFactor;
    const formattedPrice = price.toFixed(2);
    const postpress = [];
    if (res.cuttingEnabled) postpress.push("–†–µ–∑–∫–∞");
    if (res.laminationEnabled) postpress.push("–õ–∞–º–∏–Ω–∞—Ü–∏—è " + res.laminationSides);
    if (res.scoreEnabled) postpress.push("–ë–∏–≥–æ–≤–∫–∞");
    if (res.foldingEnabled) postpress.push("–§–∞–ª—å—Ü–æ–≤–∫–∞");
    if (res.diecutEnabled) postpress.push("–í—ã—Ä—É–±–∫–∞");
    if (res.uvLacquerEnabled) postpress.push("–£–§-–ª–∞–∫");
    if (res.embossingEnabled) postpress.push("–¢–∏—Å–Ω–µ–Ω–∏–µ");
    if (res.assemblyEnabled) postpress.push("–°–±–æ—Ä–∫–∞");
    const postpressText = postpress.length ? ", " + postpress.join(", ") : "";
    const title = res.productType ? `${res.productType}, ` : "";
    text += `${title}${res.productSize}, ${res.color}, ${getPaperTypeLabel(res.paperType)} ${res.density} –≥/–º¬≤${postpressText} ‚Äî ${res.quantity} —à—Ç ‚Üí ${formattedPrice} —Ä—É–±.\n`;
  });
  navigator.clipboard.writeText(text).then(() => {
    alert("–¶–µ–Ω—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!");
  }).catch(() => {
    alert("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è");
  });
}
function togglePrintSettings() {
  const panel = document.getElementById("printSettingsPanel");
  panel.style.display = panel.style.display === "none" ? "block" : "none";
  document.getElementById("btnPrint").textContent =
    panel.style.display === "none" ? "‚öôÔ∏è –ü–µ—á–∞—Ç—å ‚ñº" : "‚öôÔ∏è –ü–µ—á–∞—Ç—å ‚ñ≤";
}
function updateQuantityButtons() {
  const N = Number(document.getElementById("quantity").value);
  document.querySelectorAll("#quantityButtons button").forEach(btn => {
    const qty = Number(btn.dataset.qty || btn.textContent.replace(/\D+/g, ""));
    btn.classList.toggle("selected", N === qty);
  });
  if (!document.getElementById("quantityButtons").children.length) {
    const quantities = [50, 100, 200, 300, 500, 1000, 3000, 5000];
    const container = document.getElementById("quantityButtons");
    quantities.forEach(qty => {
      const btn = document.createElement("button");
      btn.textContent = qty + " —à—Ç.";
      btn.dataset.qty = qty;
      btn.onclick = () => {
        document.getElementById("quantity").value = qty;
        document.querySelectorAll("#quantityButtons button").forEach(b => b.classList.remove("selected"));
        btn.classList.add("selected");
        onInputChange();
      };
      container.appendChild(btn);
    });
  }
}
function selectProductType(btn) {
  document.querySelectorAll("#productTypeButtons button").forEach(b => b.classList.remove("selected"));
  btn.classList.add("selected");
  selectedProductType = btn.getAttribute("data-type");
}
window.onload = () => {
  updatePaperOptions();
  updateFormatButtons();
  updateQuantityButtons();
  document.getElementById("width").oninput = onInputChange;
  document.getElementById("height").oninput = onInputChange;
  document.getElementById("quantity").oninput = onInputChange;
  document.getElementById("paperType").onchange = updatePaperOptions;
  document.getElementById("cuttingEnabled").onchange = updateSubFields;
  document.getElementById("laminationEnabled").onchange = updateSubFields;
  document.getElementById("scoreEnabled").onchange = updateSubFields;
  document.getElementById("foldingEnabled").onchange = updateSubFields;
  document.getElementById("diecutEnabled").onchange = updateSubFields;
  document.getElementById("uvLacquerEnabled").onchange = updateSubFields;
  document.getElementById("embossingEnabled").onchange = updateSubFields;
  document.getElementById("assemblyEnabled").onchange = updateSubFields;
  document.querySelectorAll('input[name="laminationSides"]').forEach(radio => radio.onchange = onInputChange);
  document.getElementById("scoreCountInput").oninput = onInputChange;
  document.getElementById("foldingCostSetting").oninput = onInputChange;
  document.getElementById("diecutCostSetting").oninput = onInputChange;
  document.getElementById("uvLacquerCostSetting").oninput = onInputChange;
  document.getElementById("embossingCostSetting").oninput = onInputChange;
  document.getElementById("assemblyCostSetting").oninput = onInputChange;
  document.getElementById("setupAssembly").oninput = onInputChange;
  onInputChange();
};
</script>
</body>
</html>
